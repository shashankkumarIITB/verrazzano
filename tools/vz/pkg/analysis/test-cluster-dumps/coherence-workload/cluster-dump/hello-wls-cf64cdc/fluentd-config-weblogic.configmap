Name:         fluentd-config-weblogic
Namespace:    hello-wls-cf64cdc
Labels:       <none>
Annotations:  <none>

Data
====
fluentd.conf:
----
<match fluent.**>
  @type null
</match>
<source>
  @type tail
  path "#{ENV['SERVER_LOG_PATH']}"
  pos_file /tmp/server.log.pos
  read_from_head true
  tag server_log
  <parse>
  @type multiline
  format_firstline /^####/
  format1 /^####<(?<timestamp>(.*?))>/
  format2 / <(?<level>(.*?))>/
  format3 / <(?<subSystem>(.*?))>/
  format4 / <(?<serverName>(.*?))>/
  format5 / <(?<serverName2>(.*?))>/
  format6 / <(?<threadName>(.*?))>/
  format7 / <(?<info1>(.*?))>/
  format8 / <(?<info2>(.*?))>/
  format9 / <(?<info3>(.*?))>/
  format10 / <(?<sequenceNumber>(.*?))>/
  format11 / <(?<severity>(.*?))>/
  format12 / <(?<messageID>(.*?))>/
  format13 / <(?<message>([\s\S]*?))>\s*$/
  time_key timestamp
  </parse>
</source>
<source>
  @type tail
  path "#{ENV['DOMAIN_LOG_PATH']}"
  pos_file /tmp/domain.log.pos
  read_from_head true
  tag domain_log
  <parse>
  @type multiline
  format_firstline /^####/
  format1 /^####<(?<timestamp>(.*?))>/
  format2 / <(?<level>(.*?))>/
  format3 / <(?<subSystem>(.*?))>/
  format4 / <(?<serverName>(.*?))>/
  format5 / <(?<serverName2>(.*?))>/
  format6 / <(?<threadName>(.*?))>/
  format7 / <(?<info1>(.*?))>/
  format8 / <(?<info2>(.*?))>/
  format9 / <(?<info3>(.*?))>/
  format10 / <(?<sequenceNumber>(.*?))>/
  format11 / <(?<severity>(.*?))>/
  format12 / <(?<messageID>(.*?))>/
  format13 / <(?<message>([\s\S]*?))>\s*$/
  time_key timestamp
  </parse>
</source>
<source>
  @type tail
  path "#{ENV['ACCESS_LOG_PATH']}"
  pos_file /tmp/access.log.pos
  read_from_head true
  tag server_access_log
  <parse>
  @type none
  </parse>
</source>
<source>
  @type tail
  path "#{ENV['NODEMANAGER_LOG_PATH']}"
  pos_file /tmp/nodemanager.log.pos
  read_from_head true
  tag server_nodemanager_log
  <parse>
  @type none
  </parse>
</source>
<filter **>
  @type record_transformer
  <record>
    domainUID "#{ENV['DOMAIN_UID']}"
    oam.applicationconfiguration.namespace "#{ENV['NAMESPACE']}"
    oam.applicationconfiguration.name "#{ENV['APP_CONF_NAME']}"
    oam.component.namespace "#{ENV['NAMESPACE']}"
    oam.component.name "#{ENV['COMPONENT_NAME']}"
    verrazzano.cluster.name "#{ENV['CLUSTER_NAME']}"
  </record>
</filter>
<filter server_log>
  @type record_transformer
  <record>
    wls_log_stream "server_log"
  </record>
</filter>
<filter domain_log>
  @type record_transformer
  <record>
    wls_log_stream "domain_log"
  </record>
</filter>
<filter server_access_log>
  @type record_transformer
  <record>
    wls_log_stream "server_access_log"
  </record>
</filter>
<filter server_nodemanager_log>
  @type record_transformer
  <record>
    wls_log_stream "server_nodemanager_log"
  </record>
</filter>
<match **>
  @type stdout
</match>

Events:  <none>

==== START logs for container istio-init of pod hello-helidon-2f4c5e4/hello-helidon-deployment-6b96b6f8b7-xvd9c ====
2022-05-26T22:23:38.756048Z	info	Istio iptables environment:
ENVOY_PORT=
INBOUND_CAPTURE_PORT=
ISTIO_INBOUND_INTERCEPTION_MODE=
ISTIO_INBOUND_TPROXY_ROUTE_TABLE=
ISTIO_INBOUND_PORTS=
ISTIO_OUTBOUND_PORTS=
ISTIO_LOCAL_EXCLUDE_PORTS=
ISTIO_EXCLUDE_INTERFACES=
ISTIO_SERVICE_CIDR=
ISTIO_SERVICE_EXCLUDE_CIDR=
ISTIO_META_DNS_CAPTURE=
INVALID_DROP=

2022-05-26T22:23:38.756104Z	info	Istio iptables variables:
PROXY_PORT=15001
PROXY_INBOUND_CAPTURE_PORT=15006
PROXY_TUNNEL_PORT=15008
PROXY_UID=1337
PROXY_GID=1337
INBOUND_INTERCEPTION_MODE=REDIRECT
INBOUND_TPROXY_MARK=1337
INBOUND_TPROXY_ROUTE_TABLE=133
INBOUND_PORTS_INCLUDE=*
INBOUND_PORTS_EXCLUDE=15090,15021,15020
OUTBOUND_IP_RANGES_INCLUDE=*
OUTBOUND_IP_RANGES_EXCLUDE=
OUTBOUND_PORTS_INCLUDE=
OUTBOUND_PORTS_EXCLUDE=
KUBE_VIRT_INTERFACES=
ENABLE_INBOUND_IPV6=false
DNS_CAPTURE=false
DROP_INVALID=false
CAPTURE_ALL_DNS=false
DNS_SERVERS=[],[]
OUTPUT_PATH=
NETWORK_NAMESPACE=
CNI_MODE=false
EXCLUDE_INTERFACES=

2022-05-26T22:23:38.756491Z	info	Writing following contents to rules file: /tmp/iptables-rules-1653603818756171344.txt4204859697
* nat
-N ISTIO_INBOUND
-N ISTIO_REDIRECT
-N ISTIO_IN_REDIRECT
-N ISTIO_OUTPUT
-A ISTIO_INBOUND -p tcp --dport 15008 -j RETURN
-A ISTIO_REDIRECT -p tcp -j REDIRECT --to-ports 15001
-A ISTIO_IN_REDIRECT -p tcp -j REDIRECT --to-ports 15006
-A PREROUTING -p tcp -j ISTIO_INBOUND
-A ISTIO_INBOUND -p tcp --dport 15090 -j RETURN
-A ISTIO_INBOUND -p tcp --dport 15021 -j RETURN
-A ISTIO_INBOUND -p tcp --dport 15020 -j RETURN
-A ISTIO_INBOUND -p tcp -j ISTIO_IN_REDIRECT
-A OUTPUT -p tcp -j ISTIO_OUTPUT
-A ISTIO_OUTPUT -o lo -s 127.0.0.6/32 -j RETURN
-A ISTIO_OUTPUT -o lo ! -d 127.0.0.1/32 -m owner --uid-owner 1337 -j ISTIO_IN_REDIRECT
-A ISTIO_OUTPUT -o lo -m owner ! --uid-owner 1337 -j RETURN
-A ISTIO_OUTPUT -m owner --uid-owner 1337 -j RETURN
-A ISTIO_OUTPUT -o lo ! -d 127.0.0.1/32 -m owner --gid-owner 1337 -j ISTIO_IN_REDIRECT
-A ISTIO_OUTPUT -o lo -m owner ! --gid-owner 1337 -j RETURN
-A ISTIO_OUTPUT -m owner --gid-owner 1337 -j RETURN
-A ISTIO_OUTPUT -d 127.0.0.1/32 -j RETURN
-A ISTIO_OUTPUT -j ISTIO_REDIRECT
COMMIT
2022-05-26T22:23:38.756563Z	info	Running command: iptables-restore --noflush /tmp/iptables-rules-1653603818756171344.txt4204859697
2022-05-26T22:23:38.786789Z	info	Writing following contents to rules file: /tmp/ip6tables-rules-1653603818786685929.txt3939499849

2022-05-26T22:23:38.786852Z	info	Running command: ip6tables-restore --noflush /tmp/ip6tables-rules-1653603818786685929.txt3939499849
2022-05-26T22:23:38.799194Z	info	Running command: iptables-save 
2022-05-26T22:23:38.820394Z	info	Command output: 
# Generated by iptables-save v1.4.21 on Thu May 26 22:23:38 2022
*nat
:PREROUTING ACCEPT [0:0]
:INPUT ACCEPT [0:0]
:OUTPUT ACCEPT [0:0]
:POSTROUTING ACCEPT [0:0]
:ISTIO_INBOUND - [0:0]
:ISTIO_IN_REDIRECT - [0:0]
:ISTIO_OUTPUT - [0:0]
:ISTIO_REDIRECT - [0:0]
-A PREROUTING -p tcp -j ISTIO_INBOUND
-A OUTPUT -p tcp -j ISTIO_OUTPUT
-A ISTIO_INBOUND -p tcp -m tcp --dport 15008 -j RETURN
-A ISTIO_INBOUND -p tcp -m tcp --dport 15090 -j RETURN
-A ISTIO_INBOUND -p tcp -m tcp --dport 15021 -j RETURN
-A ISTIO_INBOUND -p tcp -m tcp --dport 15020 -j RETURN
-A ISTIO_INBOUND -p tcp -j ISTIO_IN_REDIRECT
-A ISTIO_IN_REDIRECT -p tcp -j REDIRECT --to-ports 15006
-A ISTIO_OUTPUT -s 127.0.0.6/32 -o lo -j RETURN
-A ISTIO_OUTPUT ! -d 127.0.0.1/32 -o lo -m owner --uid-owner 1337 -j ISTIO_IN_REDIRECT
-A ISTIO_OUTPUT -o lo -m owner ! --uid-owner 1337 -j RETURN
-A ISTIO_OUTPUT -m owner --uid-owner 1337 -j RETURN
-A ISTIO_OUTPUT ! -d 127.0.0.1/32 -o lo -m owner --gid-owner 1337 -j ISTIO_IN_REDIRECT
-A ISTIO_OUTPUT -o lo -m owner ! --gid-owner 1337 -j RETURN
-A ISTIO_OUTPUT -m owner --gid-owner 1337 -j RETURN
-A ISTIO_OUTPUT -d 127.0.0.1/32 -j RETURN
-A ISTIO_OUTPUT -j ISTIO_REDIRECT
-A ISTIO_REDIRECT -p tcp -j REDIRECT --to-ports 15001
COMMIT
# Completed on Thu May 26 22:23:38 2022

==== END logs for container istio-init of pod hello-helidon-2f4c5e4/hello-helidon-deployment-6b96b6f8b7-xvd9c ====
==== START logs for container hello-helidon-container of pod hello-helidon-2f4c5e4/hello-helidon-deployment-6b96b6f8b7-xvd9c ====
2022.05.26 22:25:37 INFO io.helidon.examples.quickstart.mp.Main Thread[main,5,main]: Starting server based on default configuration
2022.05.26 22:25:39 INFO io.helidon.common.LogConfig Thread[main,5,main]: Logging at initialization configured using classpath: /logging.properties
2022.05.26 22:25:39 INFO org.jboss.weld.Version Thread[main,5,main]: WELD-000900: 3.1.6 (Final)
2022.05.26 22:25:46 INFO org.jboss.weld.Bootstrap Thread[main,5,main]: WELD-ENV-000020: Using jandex for bean discovery
2022.05.26 22:25:47 INFO org.jboss.weld.Bootstrap Thread[main,5,main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
2022.05.26 22:25:48 INFO org.jboss.weld.Event Thread[main,5,main]: WELD-000411: Observer method [BackedAnnotatedMethod] public org.glassfish.jersey.ext.cdi1x.internal.ProcessAllAnnotatedTypes.processAnnotatedType(@Observes ProcessAnnotatedType<?>, BeanManager) receives events for all annotated types. Consider restricting events using @WithAnnotations or a generic type with bounds.
2022.05.26 22:25:48 INFO org.jboss.weld.Event Thread[main,5,main]: WELD-000411: Observer method [BackedAnnotatedMethod] private io.helidon.microprofile.openapi.OpenApiCdiExtension.processAnnotatedType(@Observes ProcessAnnotatedType<X>) receives events for all annotated types. Consider restricting events using @WithAnnotations or a generic type with bounds.
2022.05.26 22:25:52 INFO io.helidon.tracing.zipkin.ZipkinTracerBuilder Thread[main,5,main]: Creating Zipkin Tracer for 'HelidonMP' configured with: http://127.0.0.1:9411/api/v2/spans
2022.05.26 22:25:52 INFO io.helidon.microprofile.security.SecurityCdiExtension Thread[main,5,main]: Authentication provider is missing from security configuration, but security extension for microprofile is enabled (requires providers configuration at key security.providers). Security will not have any valid authentication provider
2022.05.26 22:25:52 INFO io.helidon.microprofile.security.SecurityCdiExtension Thread[main,5,main]: Authorization provider is missing from security configuration, but security extension for microprofile is enabled (requires providers configuration at key security.providers). ABAC provider is configured for authorization.
2022.05.26 22:25:53 INFO io.helidon.microprofile.server.ServerCdiExtension Thread[main,5,main]: Registering JAX-RS Application: HelidonMP
2022.05.26 22:25:54 INFO io.helidon.webserver.NettyWebServer Thread[nioEventLoopGroup-2-1,10,main]: Channel '@default' started: [id: 0x7b5ad695, L:/[0:0:0:0:0:0:0:0]:8080]
2022.05.26 22:25:54 INFO io.helidon.microprofile.server.ServerCdiExtension Thread[main,5,main]: Server started on http://localhost:8080 (and all other host addresses) in 18351 milliseconds (since JVM startup).
http://localhost:8080/greet
2022.05.26 22:25:55 INFO io.helidon.common.HelidonFeatures Thread[features-thread,5,main]: Helidon MP 2.4.0 features: [CDI, Config, Fault Tolerance, Health, JAX-RS, Metrics, Open API, REST Client, Security, Server, Tracing]
2022.05.26 22:26:06 WARNING zipkin2.reporter.AsyncReporter$BoundedAsyncReporter Thread[AsyncReporter{URLConnectionSender{http://127.0.0.1:9411/api/v2/spans}},5,main]: Spans were dropped due to exceptions. All subsequent errors will be logged at FINE level.
2022.05.26 22:26:06 WARNING zipkin2.reporter.AsyncReporter$BoundedAsyncReporter Thread[AsyncReporter{URLConnectionSender{http://127.0.0.1:9411/api/v2/spans}},5,main]: Dropped 2 spans due to ConnectException(Connection refused)
java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:589)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.Socket.connect(Socket.java:648)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:177)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:474)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:569)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:341)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:362)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1261)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1194)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1082)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1016)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1375)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1350)
	at zipkin2.reporter.urlconnection.URLConnectionSender.send(URLConnectionSender.java:226)
	at zipkin2.reporter.urlconnection.URLConnectionSender$HttpPostCall.doExecute(URLConnectionSender.java:267)
	at zipkin2.reporter.urlconnection.URLConnectionSender$HttpPostCall.doExecute(URLConnectionSender.java:259)
	at zipkin2.Call$Base.execute(Call.java:379)
	at zipkin2.reporter.AsyncReporter$BoundedAsyncReporter.flush(AsyncReporter.java:284)
	at zipkin2.reporter.AsyncReporter$Flusher.run(AsyncReporter.java:358)
	at java.base/java.lang.Thread.run(Thread.java:832)

==== END logs for container hello-helidon-container of pod hello-helidon-2f4c5e4/hello-helidon-deployment-6b96b6f8b7-xvd9c ====
==== START logs for container istio-proxy of pod hello-helidon-2f4c5e4/hello-helidon-deployment-6b96b6f8b7-xvd9c ====
2022-05-26T22:25:40.959116Z	info	FLAG: --concurrency="2"
2022-05-26T22:25:40.959167Z	info	FLAG: --domain="hello-helidon-2f4c5e4.svc.cluster.local"
2022-05-26T22:25:40.959181Z	info	FLAG: --help="false"
2022-05-26T22:25:40.959189Z	info	FLAG: --log_as_json="false"
2022-05-26T22:25:40.959196Z	info	FLAG: --log_caller=""
2022-05-26T22:25:40.959204Z	info	FLAG: --log_output_level="default:info"
2022-05-26T22:25:40.959211Z	info	FLAG: --log_rotate=""
2022-05-26T22:25:40.959218Z	info	FLAG: --log_rotate_max_age="30"
2022-05-26T22:25:40.959226Z	info	FLAG: --log_rotate_max_backups="1000"
2022-05-26T22:25:40.959233Z	info	FLAG: --log_rotate_max_size="104857600"
2022-05-26T22:25:40.959241Z	info	FLAG: --log_stacktrace_level="default:none"
2022-05-26T22:25:40.959258Z	info	FLAG: --log_target="[stdout]"
2022-05-26T22:25:40.959266Z	info	FLAG: --meshConfig="./etc/istio/config/mesh"
2022-05-26T22:25:40.959274Z	info	FLAG: --outlierLogPath=""
2022-05-26T22:25:40.959281Z	info	FLAG: --proxyComponentLogLevel="misc:error"
2022-05-26T22:25:40.959288Z	info	FLAG: --proxyLogLevel="warning"
2022-05-26T22:25:40.959295Z	info	FLAG: --serviceCluster="istio-proxy"
2022-05-26T22:25:40.959303Z	info	FLAG: --stsPort="0"
2022-05-26T22:25:40.959310Z	info	FLAG: --templateFile=""
2022-05-26T22:25:40.959318Z	info	FLAG: --tokenManagerPlugin="GoogleTokenExchange"
2022-05-26T22:25:40.959329Z	info	FLAG: --vklog="0"
2022-05-26T22:25:40.959339Z	info	Version 1.13.2-f84f69d1028e874d568f2942c5bab5271fcdeda7-Clean
2022-05-26T22:25:40.959949Z	info	Proxy role	ips=[10.244.0.31 fe80::c86b:f7ff:fe75:7efc] type=sidecar id=hello-helidon-deployment-6b96b6f8b7-xvd9c.hello-helidon-2f4c5e4 domain=hello-helidon-2f4c5e4.svc.cluster.local
2022-05-26T22:25:40.960113Z	info	Apply proxy config from env {}

2022-05-26T22:25:40.962828Z	info	Effective config: binaryPath: /usr/local/bin/envoy
concurrency: 2
configPath: ./etc/istio/proxy
controlPlaneAuthPolicy: MUTUAL_TLS
discoveryAddress: istiod.istio-system.svc:15012
drainDuration: 45s
parentShutdownDuration: 60s
proxyAdminPort: 15000
serviceCluster: istio-proxy
statNameLength: 189
statusPort: 15020
terminationDrainDuration: 5s
tracing:
  zipkin:
    address: zipkin.istio-system:9411

2022-05-26T22:25:40.962867Z	info	JWT policy is third-party-jwt
2022-05-26T22:25:40.987817Z	info	Opening status port 15020
2022-05-26T22:25:40.987753Z	info	CA Endpoint istiod.istio-system.svc:15012, provider Citadel
2022-05-26T22:25:40.989029Z	info	Using CA istiod.istio-system.svc:15012 cert with certs: var/run/secrets/istio/root-cert.pem
2022-05-26T22:25:40.989194Z	info	citadelclient	Citadel client using custom root cert: var/run/secrets/istio/root-cert.pem
2022-05-26T22:25:41.120907Z	info	ads	All caches have been synced up in 168.042796ms, marking server ready
2022-05-26T22:25:41.122413Z	info	sds	SDS server for workload certificates started, listening on "etc/istio/proxy/SDS"
2022-05-26T22:25:41.122472Z	info	xdsproxy	Initializing with upstream address "istiod.istio-system.svc:15012" and cluster "Kubernetes"
2022-05-26T22:25:41.123177Z	info	sds	Starting SDS grpc server
2022-05-26T22:25:41.126817Z	info	Pilot SAN: [istiod.istio-system.svc]
2022-05-26T22:25:41.127067Z	info	starting Http service at 127.0.0.1:15004
2022-05-26T22:25:41.130337Z	info	Starting proxy agent
2022-05-26T22:25:41.130393Z	info	Epoch 0 starting
2022-05-26T22:25:41.130439Z	info	Envoy command: [-c etc/istio/proxy/envoy-rev0.json --restart-epoch 0 --drain-time-s 45 --drain-strategy immediate --parent-shutdown-time-s 60 --local-address-ip-version v4 --file-flush-interval-msec 1000 --disable-hot-restart --log-format %Y-%m-%dT%T.%fZ	%l	envoy %n	%v -l warning --component-log-level misc:error --concurrency 2]
2022-05-26T22:25:41.919255Z	info	cache	generated new workload certificate	latency=796.44176ms ttl=23h59m59.080764243s
2022-05-26T22:25:41.919812Z	info	cache	Root cert has changed, start rotating root cert
2022-05-26T22:25:41.919909Z	info	ads	XDS: Incremental Pushing:0 ConnectedEndpoints:0 Version:
2022-05-26T22:25:41.920084Z	info	cache	returned workload trust anchor from cache	ttl=23h59m59.07992449s
2022-05-26T22:25:43.209917Z	info	xdsproxy	connected to upstream XDS server: istiod.istio-system.svc:15012
2022-05-26T22:25:44.433787Z	info	ads	ADS: new connection for node:hello-helidon-deployment-6b96b6f8b7-xvd9c.hello-helidon-2f4c5e4-1
2022-05-26T22:25:44.434814Z	info	cache	returned workload certificate from cache	ttl=23h59m56.56519853s
2022-05-26T22:25:44.435606Z	info	ads	SDS: PUSH request for node:hello-helidon-deployment-6b96b6f8b7-xvd9c.hello-helidon-2f4c5e4 resources:1 size:9.2kB resource:default
2022-05-26T22:25:44.474315Z	info	ads	ADS: new connection for node:hello-helidon-deployment-6b96b6f8b7-xvd9c.hello-helidon-2f4c5e4-2
2022-05-26T22:25:44.479804Z	info	cache	returned workload trust anchor from cache	ttl=23h59m56.520206834s
2022-05-26T22:25:44.480109Z	info	ads	SDS: PUSH request for node:hello-helidon-deployment-6b96b6f8b7-xvd9c.hello-helidon-2f4c5e4 resources:1 size:2.0kB resource:ROOTCA
2022-05-26T22:25:48.993114Z	info	Readiness succeeded in 8.038535589s
2022-05-26T22:25:48.993956Z	info	Envoy proxy is ready
==== END logs for container istio-proxy of pod hello-helidon-2f4c5e4/hello-helidon-deployment-6b96b6f8b7-xvd9c ====

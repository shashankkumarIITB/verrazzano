==== START logs for container istio-init of pod bar/springboot-backend-workload-5bf8585c4b-6hvl7 ====
2022-05-26T22:24:00.312498Z	info	Istio iptables environment:
ENVOY_PORT=
INBOUND_CAPTURE_PORT=
ISTIO_INBOUND_INTERCEPTION_MODE=
ISTIO_INBOUND_TPROXY_ROUTE_TABLE=
ISTIO_INBOUND_PORTS=
ISTIO_OUTBOUND_PORTS=
ISTIO_LOCAL_EXCLUDE_PORTS=
ISTIO_EXCLUDE_INTERFACES=
ISTIO_SERVICE_CIDR=
ISTIO_SERVICE_EXCLUDE_CIDR=
ISTIO_META_DNS_CAPTURE=
INVALID_DROP=

2022-05-26T22:24:00.312574Z	info	Istio iptables variables:
PROXY_PORT=15001
PROXY_INBOUND_CAPTURE_PORT=15006
PROXY_TUNNEL_PORT=15008
PROXY_UID=1337
PROXY_GID=1337
INBOUND_INTERCEPTION_MODE=REDIRECT
INBOUND_TPROXY_MARK=1337
INBOUND_TPROXY_ROUTE_TABLE=133
INBOUND_PORTS_INCLUDE=*
INBOUND_PORTS_EXCLUDE=15090,15021,15020
OUTBOUND_IP_RANGES_INCLUDE=*
OUTBOUND_IP_RANGES_EXCLUDE=
OUTBOUND_PORTS_INCLUDE=
OUTBOUND_PORTS_EXCLUDE=
KUBE_VIRT_INTERFACES=
ENABLE_INBOUND_IPV6=false
DNS_CAPTURE=false
DROP_INVALID=false
CAPTURE_ALL_DNS=false
DNS_SERVERS=[],[]
OUTPUT_PATH=
NETWORK_NAMESPACE=
CNI_MODE=false
EXCLUDE_INTERFACES=

2022-05-26T22:24:00.312917Z	info	Writing following contents to rules file: /tmp/iptables-rules-1653603840312642485.txt765118435
* nat
-N ISTIO_INBOUND
-N ISTIO_REDIRECT
-N ISTIO_IN_REDIRECT
-N ISTIO_OUTPUT
-A ISTIO_INBOUND -p tcp --dport 15008 -j RETURN
-A ISTIO_REDIRECT -p tcp -j REDIRECT --to-ports 15001
-A ISTIO_IN_REDIRECT -p tcp -j REDIRECT --to-ports 15006
-A PREROUTING -p tcp -j ISTIO_INBOUND
-A ISTIO_INBOUND -p tcp --dport 15090 -j RETURN
-A ISTIO_INBOUND -p tcp --dport 15021 -j RETURN
-A ISTIO_INBOUND -p tcp --dport 15020 -j RETURN
-A ISTIO_INBOUND -p tcp -j ISTIO_IN_REDIRECT
-A OUTPUT -p tcp -j ISTIO_OUTPUT
-A ISTIO_OUTPUT -o lo -s 127.0.0.6/32 -j RETURN
-A ISTIO_OUTPUT -o lo ! -d 127.0.0.1/32 -m owner --uid-owner 1337 -j ISTIO_IN_REDIRECT
-A ISTIO_OUTPUT -o lo -m owner ! --uid-owner 1337 -j RETURN
-A ISTIO_OUTPUT -m owner --uid-owner 1337 -j RETURN
-A ISTIO_OUTPUT -o lo ! -d 127.0.0.1/32 -m owner --gid-owner 1337 -j ISTIO_IN_REDIRECT
-A ISTIO_OUTPUT -o lo -m owner ! --gid-owner 1337 -j RETURN
-A ISTIO_OUTPUT -m owner --gid-owner 1337 -j RETURN
-A ISTIO_OUTPUT -d 127.0.0.1/32 -j RETURN
-A ISTIO_OUTPUT -j ISTIO_REDIRECT
COMMIT
2022-05-26T22:24:00.312972Z	info	Running command: iptables-restore --noflush /tmp/iptables-rules-1653603840312642485.txt765118435
2022-05-26T22:24:00.335525Z	info	Writing following contents to rules file: /tmp/ip6tables-rules-1653603840335428008.txt2417329702

2022-05-26T22:24:00.335567Z	info	Running command: ip6tables-restore --noflush /tmp/ip6tables-rules-1653603840335428008.txt2417329702
2022-05-26T22:24:00.347304Z	info	Running command: iptables-save 
2022-05-26T22:24:00.360921Z	info	Command output: 
# Generated by iptables-save v1.4.21 on Thu May 26 22:24:00 2022
*nat
:PREROUTING ACCEPT [0:0]
:INPUT ACCEPT [0:0]
:OUTPUT ACCEPT [0:0]
:POSTROUTING ACCEPT [0:0]
:ISTIO_INBOUND - [0:0]
:ISTIO_IN_REDIRECT - [0:0]
:ISTIO_OUTPUT - [0:0]
:ISTIO_REDIRECT - [0:0]
-A PREROUTING -p tcp -j ISTIO_INBOUND
-A OUTPUT -p tcp -j ISTIO_OUTPUT
-A ISTIO_INBOUND -p tcp -m tcp --dport 15008 -j RETURN
-A ISTIO_INBOUND -p tcp -m tcp --dport 15090 -j RETURN
-A ISTIO_INBOUND -p tcp -m tcp --dport 15021 -j RETURN
-A ISTIO_INBOUND -p tcp -m tcp --dport 15020 -j RETURN
-A ISTIO_INBOUND -p tcp -j ISTIO_IN_REDIRECT
-A ISTIO_IN_REDIRECT -p tcp -j REDIRECT --to-ports 15006
-A ISTIO_OUTPUT -s 127.0.0.6/32 -o lo -j RETURN
-A ISTIO_OUTPUT ! -d 127.0.0.1/32 -o lo -m owner --uid-owner 1337 -j ISTIO_IN_REDIRECT
-A ISTIO_OUTPUT -o lo -m owner ! --uid-owner 1337 -j RETURN
-A ISTIO_OUTPUT -m owner --uid-owner 1337 -j RETURN
-A ISTIO_OUTPUT ! -d 127.0.0.1/32 -o lo -m owner --gid-owner 1337 -j ISTIO_IN_REDIRECT
-A ISTIO_OUTPUT -o lo -m owner ! --gid-owner 1337 -j RETURN
-A ISTIO_OUTPUT -m owner --gid-owner 1337 -j RETURN
-A ISTIO_OUTPUT -d 127.0.0.1/32 -j RETURN
-A ISTIO_OUTPUT -j ISTIO_REDIRECT
-A ISTIO_REDIRECT -p tcp -j REDIRECT --to-ports 15001
COMMIT
# Completed on Thu May 26 22:24:00 2022

==== END logs for container istio-init of pod bar/springboot-backend-workload-5bf8585c4b-6hvl7 ====
==== START logs for container springboot-backend of pod bar/springboot-backend-workload-5bf8585c4b-6hvl7 ====

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.3.3.RELEASE)

2022-05-26 22:25:45.289  INFO 1 --- [           main] o.s.app.VerrazzanoFactsApplication       : Starting VerrazzanoFactsApplication v0.0.1-SNAPSHOT on springboot-backend-workload-5bf8585c4b-6hvl7 with PID 1 (/app.jar started by root in /)
2022-05-26 22:25:45.328  INFO 1 --- [           main] o.s.app.VerrazzanoFactsApplication       : No active profile set, falling back to default profiles: default
2022-05-26 22:25:52.322  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2022-05-26 22:25:52.347  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2022-05-26 22:25:52.348  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.37]
2022-05-26 22:25:52.638  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2022-05-26 22:25:52.639  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6432 ms
2022-05-26 22:25:54.373  INFO 1 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2022-05-26 22:25:54.795  INFO 1 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 14 endpoint(s) beneath base path '/actuator'
2022-05-26 22:25:54.891  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2022-05-26 22:25:54.930  INFO 1 --- [           main] o.s.app.VerrazzanoFactsApplication       : Started VerrazzanoFactsApplication in 20.047 seconds (JVM running for 21.016)
Hello from Verrazzano ...
Application Name : springboot-example
Display Name : org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@313ac989
2022-05-26 22:25:56.305  INFO 1 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-05-26 22:25:56.307  INFO 1 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2022-05-26 22:25:56.312  INFO 1 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
==== END logs for container springboot-backend of pod bar/springboot-backend-workload-5bf8585c4b-6hvl7 ====
==== START logs for container istio-proxy of pod bar/springboot-backend-workload-5bf8585c4b-6hvl7 ====
2022-05-26T22:25:36.396924Z	info	FLAG: --concurrency="2"
2022-05-26T22:25:36.397379Z	info	FLAG: --domain="bar.svc.cluster.local"
2022-05-26T22:25:36.397470Z	info	FLAG: --help="false"
2022-05-26T22:25:36.397562Z	info	FLAG: --log_as_json="false"
2022-05-26T22:25:36.397621Z	info	FLAG: --log_caller=""
2022-05-26T22:25:36.397675Z	info	FLAG: --log_output_level="default:info"
2022-05-26T22:25:36.397688Z	info	FLAG: --log_rotate=""
2022-05-26T22:25:36.397699Z	info	FLAG: --log_rotate_max_age="30"
2022-05-26T22:25:36.397709Z	info	FLAG: --log_rotate_max_backups="1000"
2022-05-26T22:25:36.397719Z	info	FLAG: --log_rotate_max_size="104857600"
2022-05-26T22:25:36.397728Z	info	FLAG: --log_stacktrace_level="default:none"
2022-05-26T22:25:36.397745Z	info	FLAG: --log_target="[stdout]"
2022-05-26T22:25:36.397757Z	info	FLAG: --meshConfig="./etc/istio/config/mesh"
2022-05-26T22:25:36.397766Z	info	FLAG: --outlierLogPath=""
2022-05-26T22:25:36.397775Z	info	FLAG: --proxyComponentLogLevel="misc:error"
2022-05-26T22:25:36.397785Z	info	FLAG: --proxyLogLevel="warning"
2022-05-26T22:25:36.397795Z	info	FLAG: --serviceCluster="istio-proxy"
2022-05-26T22:25:36.397804Z	info	FLAG: --stsPort="0"
2022-05-26T22:25:36.397813Z	info	FLAG: --templateFile=""
2022-05-26T22:25:36.397824Z	info	FLAG: --tokenManagerPlugin="GoogleTokenExchange"
2022-05-26T22:25:36.397836Z	info	FLAG: --vklog="0"
2022-05-26T22:25:36.397846Z	info	Version 1.13.2-f84f69d1028e874d568f2942c5bab5271fcdeda7-Clean
2022-05-26T22:25:36.398450Z	info	Proxy role	ips=[10.244.0.37 fe80::86f:54ff:fe4d:b50e] type=sidecar id=springboot-backend-workload-5bf8585c4b-6hvl7.bar domain=bar.svc.cluster.local
2022-05-26T22:25:36.398599Z	info	Apply proxy config from env {}

2022-05-26T22:25:36.400746Z	info	Effective config: binaryPath: /usr/local/bin/envoy
concurrency: 2
configPath: ./etc/istio/proxy
controlPlaneAuthPolicy: MUTUAL_TLS
discoveryAddress: istiod.istio-system.svc:15012
drainDuration: 45s
parentShutdownDuration: 60s
proxyAdminPort: 15000
serviceCluster: istio-proxy
statNameLength: 189
statusPort: 15020
terminationDrainDuration: 5s
tracing:
  zipkin:
    address: zipkin.istio-system:9411

2022-05-26T22:25:36.400773Z	info	JWT policy is third-party-jwt
2022-05-26T22:25:36.438975Z	info	Opening status port 15020
2022-05-26T22:25:36.443879Z	info	CA Endpoint istiod.istio-system.svc:15012, provider Citadel
2022-05-26T22:25:36.443974Z	info	Using CA istiod.istio-system.svc:15012 cert with certs: var/run/secrets/istio/root-cert.pem
2022-05-26T22:25:36.444167Z	info	citadelclient	Citadel client using custom root cert: var/run/secrets/istio/root-cert.pem
2022-05-26T22:25:36.571275Z	info	ads	All caches have been synced up in 179.664637ms, marking server ready
2022-05-26T22:25:36.574711Z	info	sds	SDS server for workload certificates started, listening on "etc/istio/proxy/SDS"
2022-05-26T22:25:36.574781Z	info	xdsproxy	Initializing with upstream address "istiod.istio-system.svc:15012" and cluster "Kubernetes"
2022-05-26T22:25:36.576750Z	info	sds	Starting SDS grpc server
2022-05-26T22:25:36.576996Z	info	starting Http service at 127.0.0.1:15004
2022-05-26T22:25:36.580465Z	info	Pilot SAN: [istiod.istio-system.svc]
2022-05-26T22:25:36.586169Z	info	Starting proxy agent
2022-05-26T22:25:36.586346Z	info	Epoch 0 starting
2022-05-26T22:25:36.586424Z	info	Envoy command: [-c etc/istio/proxy/envoy-rev0.json --restart-epoch 0 --drain-time-s 45 --drain-strategy immediate --parent-shutdown-time-s 60 --local-address-ip-version v4 --file-flush-interval-msec 1000 --disable-hot-restart --log-format %Y-%m-%dT%T.%fZ	%l	envoy %n	%v -l warning --component-log-level misc:error --concurrency 2]
2022-05-26T22:25:37.266096Z	info	cache	generated new workload certificate	latency=690.266843ms ttl=23h59m59.733927091s
2022-05-26T22:25:37.266156Z	info	cache	Root cert has changed, start rotating root cert
2022-05-26T22:25:37.266190Z	info	ads	XDS: Incremental Pushing:0 ConnectedEndpoints:0 Version:
2022-05-26T22:25:37.266290Z	info	cache	returned workload trust anchor from cache	ttl=23h59m59.733714876s
2022-05-26T22:25:39.684696Z	info	xdsproxy	connected to upstream XDS server: istiod.istio-system.svc:15012
2022-05-26T22:25:40.938706Z	info	ads	ADS: new connection for node:springboot-backend-workload-5bf8585c4b-6hvl7.bar-1
2022-05-26T22:25:40.938891Z	info	cache	returned workload trust anchor from cache	ttl=23h59m56.061119373s
2022-05-26T22:25:40.939486Z	info	ads	SDS: PUSH request for node:springboot-backend-workload-5bf8585c4b-6hvl7.bar resources:1 size:2.0kB resource:ROOTCA
2022-05-26T22:25:40.978997Z	info	ads	ADS: new connection for node:springboot-backend-workload-5bf8585c4b-6hvl7.bar-2
2022-05-26T22:25:40.979320Z	info	cache	returned workload certificate from cache	ttl=23h59m56.020690273s
2022-05-26T22:25:40.979561Z	info	ads	SDS: PUSH request for node:springboot-backend-workload-5bf8585c4b-6hvl7.bar resources:1 size:9.2kB resource:default
2022-05-26T22:25:45.434062Z	info	Readiness succeeded in 9.040813224s
2022-05-26T22:25:45.436069Z	info	Envoy proxy is ready
==== END logs for container istio-proxy of pod bar/springboot-backend-workload-5bf8585c4b-6hvl7 ====
